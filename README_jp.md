# kifu.me サポートページ

[English](README.md) | 日本語

kifu.me は、バックギャモン棋譜入力作業のアシスタントです。全てを手作業で入力するよりも、作業を効率化することができます。

## 目次

- [使い方](#使い方)
- [推奨・非推奨事項](#推奨・非推奨事項)
  - [動画撮影](#動画撮影)
  - [キューブ](#キューブ)
  - [ダイス](#ダイス)
  - [チェッカー](#チェッカー)
  - [ボード](#ボード)
- [よくある質問](#よくある質問)

## 使い方

1. **動画を[アップロード](https://kifu.me/upload)**
   - 盤面が正しく映るように撮影してください。（詳細は[動画撮影](#動画撮影)の項目を参照）
   - アップロードできる動画のサイズは 3GB までです。
   - 試合が複数のファイルに分割されている場合は、複数のファイルをアップロードできます。
     - ファイルは連番になっている必要があります。
     - 合計 10 ファイルまでアップロードできます。
2. **認識結果をメールで確認**
   - 送られてきたリンクを開いて、解析結果を確認します。リンクは一週間のみ有効です。
3. **棋譜ファイルをダウンロード**
   - 必要に応じて棋譜データを保存し、分析に活用してください。
   - 棋譜ファイルはテキストデータです。データに間違いがある場合は、テキストエディターを使って手動で修正してください。


## 推奨・非推奨事項

### 動画撮影

✅ **推奨: カメラの位置と設定**  
- カメラはしっかり固定してください。  
- ボードの真上から撮影してください。（斜めからの撮影は不可）  
- ボード全体が映るようにフレームを調整してください。  

✅ **推奨: 撮影モード**  
- **Full HD（1920 x 1080ピクセル）** で撮影してください。  
- **タイムラプスモード**を使用すると、アップロード時間を大幅に短縮できます。  
  - 推奨設定：0.5秒インターバル  
- カメラは横位置(landscape)で撮影してください。
- アクションカメラを使用する場合、レンズ歪みが大きいと正しく認識できません。必ず**歪み補正モード**を使用してください。

❌ **非推奨: 撮影設定**
- Full HD を超える解像度の動画は処理できないため、使用しないでください。

### 撮影例

#### ✅推奨される撮影方法
![推奨撮影例](https://github.com/mkisono/kifume-support/blob/update-doc/image/Screenshot%202025-05-02%20at%2010.36.00.png?raw=true)

*ボードの真上から撮影されており、ボードの全体が映っている良い例*

#### ❌避けるべき撮影方法
![レンズ歪みの例](https://github.com/mkisono/kifume-support/blob/update-doc/image/Screenshot%202025-05-02%20at%2010.28.41.png?raw=true)

*レンズ歪みが大きい例 - 歪み補正機能を使いましょう*

![不適切な角度の例1](https://github.com/mkisono/kifume-support/blob/update-doc/image/Screenshot%202025-05-02%20at%2010.28.05.png?raw=true)

*横から撮影している例 - カメラをボードの真上に設置しましょう*

![不適切な角度の例2](https://github.com/mkisono/kifume-support/blob/update-doc/image/Screenshot%202025-05-02%20at%2010.28.23.png?raw=true)

*ボードの手前から撮影している例 - カメラをボードの真上に設置しましょう*


### キューブ

✅ **推奨: キューブの配置**  
- **テイクしたキューブ**は、ボードのコーナーに見えるように置いてください。  
  - kifu.me は、キューブの位置を元に「センターキューブ」と「テイクされたキューブ」を区別します。  

✅ **推奨: テイク/パスのアクション**  
- テイクやパスの判断後、**一呼吸おいてから行動する**（1秒程度）  
  - 画像認識のための時間を確保してください。焦らず落ち着いて行いましょう。  

✅ **推奨: 物理的に大きめのキューブを使う**  
- キューブが大きいほど認識ミスが減ります。（ただし、リダブルしろという意味ではない！）  

❌ **非推奨: 誤認識を防ぐために**  
- **ボードの近くに不要なキューブを置かない**  
  - 複数のキューブが映ると誤認識する可能性があります。  


### ダイス

✅ **推奨: チェスクロックの使用**  
- 対局にはチェスクロックを使ってください。

✅ **推奨: ELITE Precision Dice**  
- Backgammon Galaxy が販売している [ELITE Precision Dice](https://shop.backgammongalaxy.com/products/precision-dice-sizes-12-7mm-14-3mm-1-2-9-16-for-backgammon-or-dice-games-made-by-backgammon-galaxy) は照明による反射が少なく、kifu.me での使用に適しています。

❌ **非推奨: バッフルボックスの使用**
- kifu.me は、それぞれのプレイヤーが**ボードの右側にダイスを振る**ことを前提にしています。  
- 両プレイヤーがバッフルボックスを使用すると、ターンプレイヤー判定が難しく、記録が正しく行えません。

❌ **非推奨: 特殊なデザインのダイス**
- 通常とは異なるデザインのダイスは正しく認識できないため、使用しないでください。
  - 使用してはならないダイスの例:  ![特殊なダイスの例](https://github.com/mkisono/kifume-support/blob/update-doc/image/dice.png?raw=true)


### チェッカー

✅ **推奨: 初期配置を正確に**  
- kifu.me は、**チェッカーが初期配置に戻ったことを検知すると記録を開始**します。  
- 初期配置が間違っていると、ゲームが記録されないので注意してください。  

❌ **非推奨: チェッカーを重ねる**  
- チェッカーを重ねると認識精度が下がります。できるだけチェッカーを重ねずにプレイしてください。  


### ボード

✅ **推奨: シンプルなデザインのボード**  
- ボードは無地のシンプルなデザインが最適です。文字やイラストが描かれていると、キューブやダイスの認識精度が下がります。

✅ **推奨: ボードの固定**  
- プレイ中は、ボードを移動しないようにしてください。
- ボードを移動する必要がある場合は、ゲームが終了した後で、次のゲーム開始前（**チェッカーを初期配置にする前**）に行ってください。


## よくある質問

**Q:** イリーガルムーブをした場合も、正しく認識されますか？

**A:** いいえ。イリーガルムーブがあった場合は、以下のいずれかの状態になります：

- 指手が認識されず、棋譜に「????」と出力される
- 実際の出目とは異なる出目に補正されて記録される

いずれの場合も、手作業による修正が必要となります。正確な記録のためにも、イリーガルムーブを避けるよう心がけましょう。

**Q:** 動画のアップロードは完了しましたが、Submit ボタンを押すことができません。

**A:** アップロード画面の「Player Names」欄（対局者名を入力する欄）が未入力の場合、Submit ボタンは無効化されています。両プレイヤーの名前を入力してから再度お試しください。


## 既知の問題

GitHub の [Issues](https://github.com/mkisono/kifume-support/issues) を参照してください。
